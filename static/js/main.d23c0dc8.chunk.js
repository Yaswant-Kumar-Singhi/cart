(this.webpackJsonpcart=this.webpackJsonpcart||[]).push([[0],{18:function(t,e,n){t.exports=n(34)},23:function(t,e,n){},34:function(t,e,n){"use strict";n.r(e);var a=n(1),c=n.n(a),o=n(13),r=n.n(o),i=(n(23),n(14)),s=n(15),l=n(17),u=n(16),d={image:{height:110,width:70,borderRadius:4,background:"#ccc"}},p=function(t){var e=t.product,n=e.price,a=e.title,o=e.qty,r=t.product,i=t.onIncreaseQuantity,s=t.onDecreaseQuantity,l=t.onDeleteProduct;return c.a.createElement("div",{className:"cart-item"},c.a.createElement("div",{className:"left-block"},c.a.createElement("img",{style:d.image,src:r.img})),c.a.createElement("div",{className:"right-block"},c.a.createElement("div",{style:{fontSize:25}},a),c.a.createElement("div",{style:{color:"#777"}},n),c.a.createElement("div",{style:{color:"#777"}},o),c.a.createElement("div",{className:"cart-item-actions"},c.a.createElement("img",{alt:"increase",className:"action-icons",src:"https://image.flaticon.com/icons/svg/864/864380.svg",onClick:function(){return i(r)}}),c.a.createElement("img",{alt:"decrease",className:"action-icons",src:"https://image.flaticon.com/icons/svg/864/864373.svg",onClick:function(){return s(r)}}),c.a.createElement("img",{alt:"delete",className:"action-icons",src:"https://image.flaticon.com/icons/svg/1345/1345823.svg",onClick:function(){return l(r.id)}}))))},m=function(t){var e=t.products;return c.a.createElement("div",{className:"cart"},e.map((function(e){return c.a.createElement(p,{product:e,key:e.id,onIncreaseQuantity:t.onIncreaseQuantity,onDecreaseQuantity:t.onDecreaseQuantity,onDeleteProduct:t.onDeleteProduct})})))},g={cartIcon:{height:32,marginRight:20},nav:{height:70,background:"#4267b2",display:"flex",justifyContent:"flex-end",alignItems:"center"},cartIconContainer:{position:"relative"},cartCount:{background:"yellow",borderRadius:"50%",padding:"4px 8px",position:"absolute",right:0,top:-9}},f=function(t){return c.a.createElement("div",{style:g.nav},c.a.createElement("div",{style:g.cartIconContainer},c.a.createElement("img",{style:g.cartIcon,src:"https://image.flaticon.com/icons/svg/2121/2121815.svg",alt:"cart-icon"}),c.a.createElement("span",{style:g.cartCount},t.count)))},h={nav:{height:70,background:"#4267b2",display:"flex",justifyContent:"space-around",alignItems:"center"},cartIconContainer:{position:"relative",justifyContent:"Space-around"},cartCount:{background:"yellow",textHeight:"25px",padding:"4px 8px",position:"absolute",right:0,top:-9}},y=function(t){return c.a.createElement("div",{style:h.nav},c.a.createElement("h1",{style:{color:"whitesmoke"}},"Total Amont"),c.a.createElement("div",{style:h.cartIconContainer},c.a.createElement("span",{style:h.cartCount},t.totalCount)))},v=n(7),E=function(t){Object(l.a)(n,t);var e=Object(u.a)(n);function n(){var t;return Object(i.a)(this,n),(t=e.call(this)).handleIncreaseQuantity=function(e){console.log("Increasing",e);var n=t.state.products,a=n.indexOf(e);v.firestore().collection("products").doc(n[a].id).update({qty:n[a].qty+1}).then((function(){console.log("Updated Successfully")})).catch((function(t){console.log("error in updation")}))},t.handleDecreaseQuantity=function(e){console.log("Increasing",e);var n=t.state.products,a=n.indexOf(e);0!==n[a].qty&&v.firestore().collection("products").doc(n[a].id).update({qty:n[a].qty-1}).then((function(){console.log("Updated Successfully")})).catch((function(t){console.log("error in updation")}))},t.handleDeleteProduct=function(e){t.state.products;v.firestore().collection("products").doc(e).delete().then((function(){console.log("deleted successfully")})).catch((function(){console.log("error in deletion")}))},t.getCartCount=function(){var e=t.state.products,n=0;return e.forEach((function(t){n+=t.qty})),n},t.getCartValue=function(){var e=t.state.products,n=0;return e.forEach((function(t){n+=t.price*t.qty})),n},t.state={products:[],loading:!0},t}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var t=this;v.firestore().collection("products").orderBy("price","asc").onSnapshot((function(e){console.log(e),e.docs.map((function(t){console.log(t.data())}));var n=e.docs.map((function(t){var e=t.data();return e.id=t.id,e}));t.setState({products:n,loading:!1})}))}},{key:"render",value:function(){var t=this.state,e=t.products,n=t.loading;return c.a.createElement("div",{className:"App"},c.a.createElement(f,{count:this.getCartCount()}),c.a.createElement(m,{products:e,onIncreaseQuantity:this.handleIncreaseQuantity,onDecreaseQuantity:this.handleDecreaseQuantity,onDeleteProduct:this.handleDeleteProduct}),n&&c.a.createElement("h1",null,"Loading products"),c.a.createElement(y,{totalCount:this.getCartValue()}))}}]),n}(c.a.Component);n(33);v.initializeApp({apiKey:"AIzaSyAhtSMjPzISOh1KBPw8IVrhoxAajb2xD14",authDomain:"cart-c8d39.firebaseapp.com",databaseURL:"https://cart-c8d39.firebaseio.com",projectId:"cart-c8d39",storageBucket:"cart-c8d39.appspot.com",messagingSenderId:"362153447983",appId:"1:362153447983:web:cf937b771531a7cc22ecda"}),r.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(E,null)),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.d23c0dc8.chunk.js.map